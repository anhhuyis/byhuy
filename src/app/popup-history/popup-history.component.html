<div class="container-lg">
  <h4>{{"Lịch sử giao dịch"|translate}} {{person.fullname }}  </h4>
  <!-- phân loại thu chi -->
  <div class="container row justify-content-start col-md-2 ">
    <select class="form-select"  #transactionType (change)="PhanLoai(transactionType.value)">
      <option value="All">{{"Tất cả"|translate}}</option>
      <option value="Thu">{{"Thu"|translate}}</option>
      <option value="Chi">{{"Chi"|translate}}</option>
    </select>
  </div>
  <!-- Bảng hiển thị lịch sử -->
  <table class="table table-bordered table-striped mt-4 w-100">
    <thead>
      <tr>
        <th>{{"Ngày"|translate}}</th>
        <th>{{"Loại"|translate}}</th>
        <th>{{"Số tiền"|translate}} ({{"VND"|translate}})</th>
        <th>{{"Lý do"|translate}}</th>
        <th>{{"Số dư"|translate}} ({{"VND"|translate}})</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="typeresul.length === 0">
        <td colspan="5" class="text-center">{{"Không có dữ liệu để hiển thị"|translate}}</td>
      </tr>
      <tr *ngFor="let history of paginatedData">
        <td>{{ history.date | date: 'dd/MM/yyyy' }}</td>
        <td>{{ history.type | translate }}</td>
        <td class="amount" *ngIf="lang=='en'"> {{ history.amount/usd | number }}</td>
        <td class="amount" *ngIf="lang=='vi'"> {{ history.amount | number }}</td>
        <td>{{ history.reason }}</td>
        <td class="amount" *ngIf="lang=='en'">{{ history.balance/usd | number }}</td>
        <td class="amount" *ngIf="lang=='vi'">{{ history.balance | number }}</td>
      </tr>
    </tbody>
  </table>
  <!-- Nút phân trang -->
  <div class="pagination mt-3 d-flex justify-content-center">
    <button class="btn btn-primary" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">{{"Trang Trước"|translate}}</button>
    <span class="mx-4 py-2">Trang {{ currentPage }} / {{ totalPages }}</span>
    <button class="btn btn-primary" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">{{"Trang Sau"|translate}}</button>
  </div>
</div>